<style>
#map {
  width: 600px;
  height: 600px;
}
</style>

<div class="col-lg-4">
<div class="page-header">
  <h3><%= @restaurant.name %></h3>
</div>

<dl class="dl-horizontal">
      <dt>Address</dt>
        <dd><%= @restaurant.address %>, <%= @restaurant.zip %> </dd>
      <dt>Cuisine</dt>
        <dd><%= @restaurant.cuisine %></dd>
      <dt>Cost</dt>
        <dd>
      <% @restaurant.cost.to_i.times do %>
        <i class="fa fa-usd" aria-hidden="true"></i>
      <% end %>
        </dd>

      <dt>Lat Lng</dt>
        <dd>
    <%=       @restaurant.lat %>, <%= @restaurant.lng %>
        </dd>

      <dt> User Comments </dt>

      <dd>
      <% @restaurant.ratings.each do |rating| %>
          <% if rating.comments.length > 0 %>
            "<%= rating.comments %>"
          <% end %>
      <% end %>
      </dd>

    </dl>

</div>

<div class="col-lg-6">
  <div id="map"></div>
  <script>
  function initMap() {
    var mapDiv = document.getElementById('map');
    var map = new google.maps.Map(mapDiv, {
      center: {lat: <%= @restaurant.lat %>, lng: <%= @restaurant.lng %>},
      zoom: 15
    });

    var infowindow = new google.maps.InfoWindow({
      content: "<%= @restaurant.name %>"
    });

    var marker = new google.maps.Marker({
      position: {lat: <%= @restaurant.lat %>, lng: <%= @restaurant.lng %>},
      map: map,
      title: '<%= @restaurant.name %>',
      icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png'
    });

    marker.addListener('click', function() {
      infowindow.open(map, marker);
    });

  };

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>

</div>
